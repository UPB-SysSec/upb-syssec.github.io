<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Censors Ignore Unencrypted HTTP/2 Traffic | System Security Group </title> <meta name="author" content=" System Security Group"> <meta name="description" content="Using Unencrypted HTTP/2 to Circumvent Censorship"> <meta name="keywords" content="academic-website, system-security, syssec, paderborn, paderborn-university, university-paderborn, upb"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon.png?ba75c296cfbf4b5ab7d99bdbf8c75084"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://upb-syssec.github.io/blog/2024/http2/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script src="/assets/js/distillpub/template.v2.js"></script> <script src="/assets/js/distillpub/transforms.v2.js"></script> <script src="/assets/js/distillpub/overrides.js"></script> </head> <body> <d-front-matter> <script async type="text/json">
      {
            "title": "Censors Ignore Unencrypted HTTP/2 Traffic",
            "description": "Using Unencrypted HTTP/2 to Circumvent Censorship",
            "published": "November 19, 2024",
            "authors": [
              
              {
                "author": "Felix Lange*",
                "authorURL": "",
                "affiliations": [
                  {
                    "name": "Paderborn University",
                    "url": ""
                  }
                ]
              },
              
              {
                "author": "Niklas Niere*",
                "authorURL": "https://twitter.com/JonSnowWhite2",
                "affiliations": [
                  {
                    "name": "Paderborn University",
                    "url": ""
                  }
                ]
              },
              
              {
                "author": "Jonathan von Niessen*",
                "authorURL": "",
                "affiliations": [
                  {
                    "name": "Paderborn University",
                    "url": ""
                  }
                ]
              }
              
            ],
            "katex": {
              "delimiters": [
                {
                  "left": "$",
                  "right": "$",
                  "display": false
                },
                {
                  "left": "$$",
                  "right": "$$",
                  "display": true
                }
              ]
            }
          }
    </script> </d-front-matter> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> System Security Group </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="post distill"> <d-title> <h1>Censors Ignore Unencrypted HTTP/2 Traffic</h1> <p>Using Unencrypted HTTP/2 to Circumvent Censorship</p> </d-title> <d-byline></d-byline> <d-article> <d-contents> <nav class="l-text figcaption"> <h3>Contents</h3> <div> <a href="#abstract">Abstract</a> </div> <div> <a href="#introduction-and-background">Introduction and Background</a> </div> <ul> <li> <a href="#http-censorship">HTTP (Censorship)</a> </li> <li> <a href="#http-2">HTTP/2</a> </li> <li> <a href="#research-gap">Research Gap</a> </li> </ul> <div> <a href="#results">Results</a> </div> <ul> <li> <a href="#censorship">Censorship</a> </li> <li> <a href="#server-support">Server Support</a> </li> </ul> <div> <a href="#discussion">Discussion</a> </div> <ul> <li> <a href="#what-makes-unencrypted-http-2-special">What makes unencrypted HTTP/2 special?</a> </li> <li> <a href="#difficulty-of-blocking-unencrypted-http-2">Difficulty of blocking unencrypted HTTP/2</a> </li> <li> <a href="#circumventing-censors-with-unencrypted-http-2">Circumventing Censors with unencrypted HTTP/2</a> </li> </ul> <div> <a href="#conclusion">Conclusion</a> </div> </nav> </d-contents> <p>*Authors in alphabetical order – all contributed equally</p> <h2 id="abstract">Abstract</h2> <p>Censors worldwide have long censored unencrypted HTTP traffic. In this blog post, we show that a specific HTTP version—unencrypted HTTP/2—is unaffected by censorship in China and Iran. We access otherwise censored websites in both countries over unencrypted HTTP/2. Despite no web browser implementing unencrypted HTTP/2, we detect that up to 6.28% of websites support unencrypted HTTP/2 traffic. To aid the community and ease future research, we provide a tool that evaluates the unencrypted HTTP support of a website. Finally, we discuss the limitations and potential of unencrypted HTTP/2 for censorship circumvention. We consider our finding an interesting addition to current censorship circumvention techniques.</p> <p><strong>Note: Do not send sensitive data over unencrypted HTTP/2, it can be eavesdropped!</strong></p> <h2 id="introduction-and-background">Introduction and Background</h2> <p>In this section, we provide background information on HTTP and its censorship. We place special emphasis on HTTP/2 and its comparison to previous HTTP versions.</p> <h3 id="http-censorship">HTTP (Censorship)</h3> <p>HTTP can be considered <em>the</em> protocol for accessing websites on the Internet. While HTTP is usually used in conjunction with TLS, censorship of the plain HTTP protocol is still present and prior research analyzed the most common version HTTP/1.1 <d-cite key="RFC9112"></d-cite> extensively <d-cite key="harrity_GETOutAutomated_2022,jin_UnderstandingPracticesGlobal_2021,bock_DetectingEvadingCensorshipinDepth_2020"></d-cite>. These works discovered that censors such as the ones in China and Iran use information in the Host header and request path to determine whether an HTTP request should be censored. The HTTP/1.1 GET request below shows that the requested path and domain name can be easily extracted by a censor:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET /&lt;request path&gt; HTTP/1.1
Host: &lt;censored_domain&gt;
</code></pre></div></div> <p>To censor a request, censors inject TCP RST packets, HTTP block pages, or null-route the whole connection <d-cite key="bock_YourCensorMy_2021"></d-cite>.</p> <h3 id="http2">HTTP/2</h3> <p>As outlined above, HTTP/1.1 censorship has been widely analyzed. Nevertheless, there is a lack of research for the newer version: HTTP/2 <d-cite key="RFC9113"></d-cite>. HTTP/2 maintains the same semantics as its predecessor: it uses the same port numbers, runs over TCP, and most importantly it conveys the request path and accessed domain name unencrypted as depicted in the exemplary HTTP/2 request below.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>:method              GET
:scheme              HTTP
:host                &lt;censored_domain&gt;
:path                &lt;request_path&gt;
</code></pre></div></div> <p>Despite its similarities to HTTP/1.1, HTTP/2 introduced a major change by switching from a text-based format to a binary format. While HTTP/2 is still easily censorable due to missing encryption, HTTP/2’s binary format complicates censors’ efforts as it requires different parsing mechanisms.</p> <p>To facilitate the upgrade from HTTP/1.1 to HTTP/2, clients can use either of two mechanisms: connect with HTTP/2 (Prior Knowledge) or upgrade an existing HTTP/1.1 connection (Upgrade Mechanism). Below, we describe both mechanisms.</p> <h4 id="prior-knowledge">Prior Knowledge</h4> <p>Using prior knowledge, the client directly attempts to speak HTTP/2 with the server. As the initial step, the client establishes a TCP connection with the server. Then, the client sends the so-called connection preface, followed by a <strong>SETTINGS</strong> frame. This connection preface was specifically defined to trigger errors on HTTP servers without HTTP/2 support. The <strong>SETTINGS</strong> frame contains additional configuration parameters for the connection. After sending the connection preface and <strong>SETTINGS</strong> frame, the client sends its HTTP/2 request. If the server supports HTTP/2, it responds with its own connection preface, containing a <strong>SETTINGS</strong> frame, and answers the client’s HTTP/2 request with an HTTP/2 response.</p> <h4 id="upgrade-mechanism">Upgrade Mechanism</h4> <p>During the upgrade mechanism, the client establishes a TCP connection with the server and then sends an HTTP/1.1 request, including the Upgrade and HTTP2-Settings headers. An example HTTP/1.1 Upgrade request can look like this:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET / HTTP/1.1
Host: server.example.com
Connection: Upgrade, HTTP2-Settings
Upgrade: h2c
HTTP2-Settings: &lt;base64url encoding of HTTP/2 SETTINGS payload&gt;
</code></pre></div></div> <p>If the server supports the upgrade mechanism, it responds with a 101 status code, indicating <strong>Switching Protocols</strong>, and then transitions to an HTTP/2 connection. An example of a successful server answer can look like this:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 101 Switching Protocols
Connection: Upgrade
Upgrade: h2c
[ HTTP/2 answer for "GET /" ... ]
</code></pre></div></div> <p>Initially defined by RFC 7540 <d-cite key="RFC7540"></d-cite>, the upgrade mechanism has been deprecated since RFC 9113 <d-cite key="RFC9113"></d-cite> as it was not widely adopted. It is also less fit for censorship circumvention than prior knowledge as it involves an HTTP/1.1 request that is caught by HTTP censors that do not support HTTP/2.</p> <h3 id="research-gap">Research Gap</h3> <p>In the context of censorship, HTTP/2 has not been analyzed extensively. In this blogpost, we analyze HTTP/2’s viability as a censorship circumvention technique and show the following.</p> <ol> <li>HTTP/2 is uncensored in China and Iran, two countries that widely employ HTTP/1.1 censorship.</li> <li>Up to 6.28% of servers support unencrypted HTTP/2, with smaller servers and censored domains showing higher support than large websites.</li> <li>Unencrypted HTTP/1.1 is still supported by around 20% of servers.</li> <li>To easily analyze a server for its unencrypted HTTP support, we provide the tool <a href="https://github.com/UPB-SysSec/Does-It-Support-Unencrypted-Http" rel="external nofollow noopener" target="_blank"><code class="language-plaintext highlighter-rouge">Does-It-Support-Unencrypted-Http</code></a>.</li> </ol> <h2 id="results">Results</h2> <p>In the following, we show that unencrypted HTTP/2 is not censored in China and Iran. Then, we outline existing server support for unencrypted HTTP/2.</p> <h3 id="censorship">Censorship</h3> <p>In China, HTTP/1.1 is censored with a combination of different TCP RST packets with the ACK flag set or not, depending on the specific domain. In Iran, HTTP/1.1 requests are censored with a block page, a TCP RST, or null routing, depending on the specific domain. HTTP/1.1 censorship in China and Iran can be triggered with the curl command <code class="language-plaintext highlighter-rouge">curl http://nsfwyoutube.com --resolve nsfwyoutube.com:80:208.78.226.162</code>. The <code class="language-plaintext highlighter-rouge">--resolve</code> flag prevents possible DNS censorship from interfering.</p> <p>While HTTP/1.1 is censored in China and Iran, we detected that HTTP/2 with prior knowledge is not censored at all in both countries. For any domain censored over HTTP/1.1, the equivalent HTTP/2 requests were not censored in our evaluations. For instance, <code class="language-plaintext highlighter-rouge">curl --http2-prior-knowledge http://nsfwyoutube.com --resolve nsfwyoutube.com:80:208.78.226.162</code> accesses a website censored over HTTP/1.1 in both countries. In China and Iran, any server that supports unencrypted HTTP/2 can be accessed without interference from existing HTTP censorship.</p> <h3 id="server-support">Server Support</h3> <p>To determine servers’ support for unencrypted HTTP, we tested domains from three lists: We selected domains from <a href="https://tranco-list.eu/list/KJWPW" rel="external nofollow noopener" target="_blank">Tranco top one million</a>, the CitizenLab <a href="https://github.com/citizenlab/test-lists/commit/80087aa" rel="external nofollow noopener" target="_blank">test list for China</a>, and the CitizenLab <a href="https://github.com/citizenlab/test-lists/commit/e9e3bfb" rel="external nofollow noopener" target="_blank">test list for Iran</a>. The Tranco top one million list contains domains popular worldwide; the Citizenlab lists contain domains censored in the respective country. Some domains were unresolvable or did not open a TCP socket; we excluded them from our evaluations.</p> <p>To each reachable website, we sent a GET request on the path <code class="language-plaintext highlighter-rouge">/</code> with either HTTP/1.1, HTTP/2 prior knowledge, or the HTTP/2 upgrade mechanism. We followed all redirects to other HTTP websites and considered a server to support the used HTTP version if it responded with a <code class="language-plaintext highlighter-rouge">200 OK</code> using the desired HTTP version. The following table shows the number of domains that support HTTP/1.1, HTTP/2 prior knowledge, and the HTTP/2 upgrade mechanism.</p> <div class="l-screen"> <table style="margin: 0 auto; text-align:center"> <thead> <tr class="header"> <th style="text-align: left;"><span>List</span></th> <th style="text-align: right;"><span>HTTP/1.1</span></th> <th style="text-align: right;"><span>HTTP/2 Prior Knowledge</span></th> <th style="text-align: right;"><span>HTTP/2 Upgrade Mechanism</span></th> <th style="text-align: right;"><span>Total</span></th> </tr> </thead> <tbody> <tr> <th style="text-align: left;"><span>Tranco Top 1M</span></th> <th style="text-align: right;"><span>156 316 (18.62%)</span></th> <th style="text-align: right;"><span>20 973 (2.50%)</span></th> <th style="text-align: right;"><span>5227 (0.62%)</span></th> <th style="text-align: right;"><span>839 393</span></th> </tr> <tr> <th style="text-align: left;"><span>CitizenLab China</span></th> <th style="text-align: right;"><span>96 (19.35%)</span></th> <th style="text-align: right;"><span>24 (4.84%)</span></th> <th style="text-align: right;"><span>3 (0.60%)</span></th> <th style="text-align: right;"><span>496</span></th> </tr> <tr> <th style="text-align: left;"><span>CitizenLab Iran</span></th> <th style="text-align: right;"><span>161 (21.52%)</span></th> <th style="text-align: right;"><span>47 (6.28%)</span></th> <th style="text-align: right;"><span>13 (1.74%)</span></th> <th style="text-align: right;"><span>749</span></th> </tr> </tbody> </table> <br> </div> <p>Below, we detail our test vectors and servers’ support for each HTTP version we evaluated.</p> <h4 id="unencrypted-http11-support">Unencrypted HTTP/1.1 Support</h4> <p>During the unencrypted HTTP/1.1 support scan, we sent the following test vector for all domains:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET / HTTP/1.1
Host: &lt;domain_name&gt;
User-Agent: Mozilla/5.0 (...) Gecko/20100101 Firefox/127.0
Connection: close
</code></pre></div></div> <p>Across the three used lists, the HTTP/1.1 support varies between 18.62% and 21.52%. These results show that - surprisingly - unencrypted HTTP/1.1 is still supported by many domains.</p> <h4 id="unencrypted-http2-with-prior-knowledge-support">Unencrypted HTTP/2 with Prior Knowledge Support</h4> <p>During the unencrypted HTTP/2 with prior knowledge scan, we sent the connection preface first and then the following test vector for all domains:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET / HTTP/2
Host: &lt;domain_name&gt;
User-Agent: Mozilla/5.0 (...) Gecko/20100101 Firefox/127.0
</code></pre></div></div> <p>The HTTP/2 with prior knowledge support varies between 2.5% and 6.28%, depending on the domain list. Importantly, censored domains from the CitizenLab lists show higher support for HTTP/2 prior knowledge than popular domains from the Tranco top one million list. This shows that while servers’ support for HTTP/2 prior knowledge is lower than for HTTP/1.1 across all lists, a considerable number of censored domains support unencrypted HTTP/2.</p> <h4 id="unencrypted-http2-with-upgrade-mechanism-support">Unencrypted HTTP/2 with Upgrade Mechanism Support</h4> <p>During the unencrypted HTTP/2 with upgrade mechanism scan, we sent the following HTTP/1.1 request as a test vector for all domains:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET / HTTP/1.1
Host: &lt;example.com&gt;
User-Agent: Mozilla/5.0 (...) Gecko/20100101 Firefox/127.0
Connection: Upgrade, HTTP2-Settings
Upgrade: h2c
HTTP2-Settings: AAEAABAAAAIAAAABAAQAAP__AAUAAEAAAAgAAAA...
</code></pre></div></div> <p>The upgrade mechanism has the lowest support ranging from 0.6% to 1.74%, depending on the used domain list. This is unsurprising as RFC 9113 <d-cite key="RFC9113"></d-cite> deprecated this method due to its low adoption rate.</p> <h4 id="tranco-relation">Tranco Relation</h4> <p>Across all scanned HTTP versions, support for unencrypted HTTP varied widely across the Tranco top one million list. Below, we depict servers’s support for the different HTTP versions across the Tranco top 1 million list.</p> <p><img src="/assets/img/2024/http2/tranco.svg" alt="Unencrypted HTTP support by servers from the Tranco Top 1 Million list." width="80%" style="display: block; margin: 0 auto"></p> <div class="caption"> Unencrypted HTTP support by servers from the Tranco Top 1 Million list. Unencrypted HTTP/2 support increases for less accessed websites, contrasting unencrypted HTTP/1. </div> <p>Interestingly, unencrypted HTTP/2 support increases for lower Tranco ranks while unencrypted HTTP/1 support increases until about 400,000 and then decreases again. This aligns with support by websites from Citizenlab list which are usually smaller than Tranco websites. While overall support for HTTP/2 is low, we argue that it can still be used to access certain blocked websites successfully and adds to the arsenal of censorship circumvention techniques.</p> <h4 id="tool-for-detecting-http-support">Tool for Detecting HTTP Support</h4> <p>During our analyses, we developed a tool that evaluates a website’s support for unencrypted HTTP support. Below, we provide an exemplary output for <code class="language-plaintext highlighter-rouge">lgbtchinatour.com</code></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lgbtchinatour.com analysis started.
Server online. Scanning!

#####################

HTTP/1.0: REDIRECT(www.lgbtchinatour.com/) -&gt; SUCCESS
HTTP/1.1: SUCCESS
HTTP/2 (Prior Knowledge): FAILURE
HTTP/2 (Upgrade): FAILURE
</code></pre></div></div> <p>This indicates that <code class="language-plaintext highlighter-rouge">lgbtchinatour.com</code> supports unencrypted HTTP/1.0 after a redirect and unencrypted HTTP/1.1 but no unencrypted HTTP/2. We refer to the <a href="https://github.com/UPB-SysSec/Does-It-Support-Unencrypted-Http" rel="external nofollow noopener" target="_blank">GitHub project</a> for a detailed overview of the tool’s functionality. We hope that our tool aids the community and fellow researchers in their evaluation of HTTP censorship and its circumvention.</p> <h2 id="discussion">Discussion</h2> <p>We have successfully circumvented the HTTP censors in China and Iran and showed that up to 6.28% of censored websites are accessible via unencrypted HTTP/2. This still leaves over 93% of censored websites inaccessible with unencrypted HTTP/2 as a circumvention method. Despite this, we consider unencrypted HTTP/2 a valuable addition to current censorship circumvention techniques in the cat-and-mouse game between censors and affected people. Below, we discuss the limitations and potential of unencrypted HTTP/2 as a circumvention technique.</p> <h3 id="what-makes-unencrypted-http2-special">What makes unencrypted HTTP/2 special?</h3> <p>HTTP/2 differs vastly from previous HTTP versions such as HTTP/1.1. While all HTTP versions up to and including HTTP/1.1 consist of human-readable ASCII letters, HTTP/2 is a byte-based protocol. This makes HTTP/2 parsers incompatible with previous HTTP parsers. Furthermore, HTTP/2 has been designed for encrypted usage in HTTPS. Unencrypted usage is allowed but not advertised. Accordingly, browsers do not implement unencrypted HTTP/2. We suspect that this is the reason censors do not analyze it and why the censorship circumvention community has ignored unencrypted HTTP/2.</p> <h3 id="difficulty-of-blocking-unencrypted-http2">Difficulty of blocking unencrypted HTTP/2</h3> <p>Censors can block HTTP/2 but face additional challenges compared to previous HTTP versions. For previous HTTP versions, censors could analyze the first message sent by the client to extract the connection’s destination from human-readable ASCII bytes. In HTTP/2 the first message must not necessarily contain the connection destination forcing the censor to hold additional state and parse additional messages. HTTP/2 also utilizes a new form of header compression which censors would have to accommodate. We suspect that the complexity added in HTTP/2 contributed to the censors’ decision not to analyze it. We emphasize that censors could still implement HTTP/2 censorship despite its complexity.</p> <h3 id="circumventing-censors-with-unencrypted-http2">Circumventing Censors with unencrypted HTTP/2</h3> <p>Practically applying unencrypted HTTP/2 as a censorship circumvention technique is possible but comes with challenges. In this blog post, we accessed otherwise blocked resources with unencrypted HTTP/2 using curl. Curl’s built-in support for unencrypted HTTP/2 can be used to access specific HTML sites but its usability is limited in comparison to a full-fletched web browser. Unfortunately, we are not aware of any web browser that supports unencrypted HTTP/2. To utilize unencrypted HTTP/2 as a censorship circumvention technique from a browser, we propose an HTTP update proxy that translates unencrypted HTTP/1.1 spoken by the browser into unencrypted HTTP/2 and vice-versa. A similar proxy could be installed on the other side of the firewall, downgrading unencrypted HTTP/2 to unencrypted HTTP/1.1, allowing unencrypted HTTP/2 traffic to pass the censor and connect to a server that only supports unencrypted HTTP/1.1. Overall, we consider the practical deployment of HTTP/2 as a censorship circumvention method difficult and are interested in possible approaches.</p> <h2 id="conclusion">Conclusion</h2> <p>In summary, we introduced unencrypted HTTP/2 as a censorship circumvention method by accessing blocked resources in China and Iran. While server support for unencrypted HTTP/2 is low, we showed that a non-negligible number of censored websites supports it. To aid future evaluations of servers’ support for unencrypted HTTP/2, we developed a tool and made it accessible on <a href="https://github.com/UPB-SysSec/Does-It-Support-Unencrypted-Http" rel="external nofollow noopener" target="_blank">GitHub</a>. Feel free to use it or contact us for further discussion and future work. We hope that our contributions aid affected people and the censorship circumvention community. Note that unencrypted HTTP/2 does not protect your traffic; do not use it as a censorship circumvention technique when transmitting sensitive data.</p> </d-article> <d-appendix> <d-footnote-list></d-footnote-list> <d-citation-list></d-citation-list> <h3>Citation</h3> <div class="language-plaintext highlighter-rouge"> <div class="highlight"> <pre class="highlight"><code>@online{censors-ignore-unencrypted-http-2-traffic,
  author = {Lange, Felix and Niere, Niklas and von Niessen, Jonathan},
  title = {Censors Ignore Unencrypted HTTP/2 Traffic},
  year = 2024,
  url = {https://upb-syssec.github.io/blog/2024/http2/},
  urldate = {2024-11-20}
}</code></pre> </div> </div> </d-appendix> <d-bibliography src="/assets/bibliography/http2.bib"></d-bibliography> </div> <footer class="sticky-bottom mt-5" role="contentinfo"> <div class="container"> © Copyright 2024 System Security Group. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. <a href="https://upb-syssec.github.io/impressum">Impressum</a>. Last updated: November 20, 2024. </div> </footer> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> </body> </html>